<div id="main_content">
    <h1>Admin panel</h1>
    <div class="right_content">

    </div>
    <div class="left_content">

        <div class="admin_function">
            <section class="admin_row">
                <div class="admin_cell button">
                    <button class="button admin_action" confirmed-click="Recalc()"
                            ng-confirm-click="Are you sure you want to recalculate ratings?">
                        Recalculate ratings
                    </button>
                </div>
                <div class="admin_cell description">
                    This will recalculate rating for all players.
                </div>
            </section>
            <section class="admin_response">
                <img ng-show="recalc_processing" src="static/assets/img/ajax-loader.gif">
                <span ng-show="recalc_response" class="success">{{recalc_response}}</span>
                <span ng-show="recalc_error" class="error">{{recalc_error}}</span>
            </section>
        </div>

        <div class="admin_function">
            <section class="admin_row">
                <div class="admin_cell button">
                    <button class="button admin_action" confirmed-click="CleanDB()"
                            ng-confirm-click="Are you sure you want clean the database?">
                        Clean database
                    </button>
                </div>
                <div class="admin_cell description">
                    This will clean the database, removing deleted fields and values.
                </div>
            </section>
            <section class="admin_response">
                <img ng-show="cleandb_processing" src="static/assets/img/ajax-loader.gif">
                <span ng-show="cleandb_response" class="success">{{cleandb_response}}</span>
                <span ng-show="cleandb_error" class="error">{{cleandb_error}}</span>
            </section>
        </div>

        <div class="admin_function">
            <section class="admin_row">
                <div class="admin_cell button">
                    <button class="button admin_action" confirmed-click="ClearStats()"
                            ng-confirm-click="Are you sure you want clear all stats?">
                        Clear stats
                    </button>
                </div>
                <div class="admin_cell description">
                    This will clear all player statistics, meaning they will be recalculated the next time each player is loaded.
                </div>
            </section>
            <section class="admin_response">
                <img ng-show="clearstats_processing" src="static/assets/img/ajax-loader.gif">
                <span ng-show="clearstats_response" class="success">{{clearstats_response}}</span>
                <span ng-show="clearstats_error" class="error">{{clearstats_error}}</span>
            </section>
        </div>

        <div class="admin_function">
            <section class="admin_row">
                <div class="admin_cell button">
                    <button class="button admin_action" confirmed-click="AdjustRating()"
                            ng-confirm-click="Are you sure you want to adjust rating?">
                        Adjust rating
                    </button>
                </div>
                <select ng-model="adjust_rating_values.player_id" ng-change="setPlayerRatingAdjustment()">
                    <option ng-repeat="player in players | orderBy:['nick']" value="{{player.id}}">{{player.nick}}</option>
                </select>
                <input type="number" ng-model="adjust_rating_values.new_rating_adjustment">
                <div class="admin_cell description" title="Keep in mind a new value is set, this is not a value that is added to the existing adjustment. Meaning if the player had -100, and -75 is input here. The new value is -75.">
                    Will set an adjusted player rating value, and redistribute it to other players.
                </div>
            </section>
            <section class="admin_response">
                <img ng-show="adjustrating_processing" src="static/assets/img/ajax-loader.gif">
                <span ng-show="adjustrating_response" class="success">{{adjustrating_response}}</span>
                <span ng-show="adjustrating_error" class="error">{{adjustrating_error}}</span>
            </section>
        </div>

        <div class="admin_function">
            <section class="admin_row">
                <div class="admin_cell button">
                    <button class="button admin_action" confirmed-click="ResetRatingAdjustment()"
                            ng-confirm-click="Are you sure you want to reset rating adjustment?">
                        Reset rating adjustment
                    </button>
                </div>
                <div class="admin_cell description" title="">Will set all players rating adjustment to 0.</div>
            </section>
            <section class="admin_response">
                <img ng-show="resetratingadjustment_processing" src="static/assets/img/ajax-loader.gif">
                <span ng-show="resetratingadjustment_response" class="success">{{resetratingadjustment_response}}</span>
                <span ng-show="resetratingadjustment_error" class="error">{{resetratingadjustment_error}}</span>
            </section>
        </div>

        <div class="box margin_top">
            <h4>Verify player claims</h4>            
            <img ng-show="loading_unverified_players" src="static/assets/img/ajax-loader.gif">
            <img ng-show="verifyplayer_processing" src="static/assets/img/ajax-loader.gif">
            <span ng-show="verifyplayer_response" class="success">{{verifyplayer_response}}</span>
            <span ng-show="verifyplayer_error" class="error">{{verifyplayer_error}}</span>
            <table class="list_table">
                <tr ng-repeat="player in unverified_players">
                    <td>{{player.nick}}</td>
                    <td><a ng-click="VerifyClaim(player)" href="">Verify</a></td>
                    <td><a ng-click="RejectClaim(player)" href="">Reject</a></td>
                </tr>
                <tr ng-show="unverified_players.length == 0">
                    <td>No unverified players</td>
                    <td></td>
                    <td></td>
                </tr>
            </table>
        </div>
    </div>
</div>